<!DOCTYPE html>
<html>
  <head>
    <meta name="p:domain_verify" content="da11300c4771f2643982b1b5458e2f6b"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <!--[if lte IE 9]><meta http-equiv="refresh" content="0;url=/ie.html"><![endif]-->

    <title>Chrome插件 开发的前端笔记</title>
    <meta name="description" content="">
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
    <link rel="icon" 
      type="image/png" 
      href="/assets/img/myicon.png">

  </head>
  <body>
    <aside id="sidebar">
      <nav id="tags">
        <a href="/index.html" id="avatar"></a>

        <ul id="tags__ul">
          <li id="js-label1" class="tags__li tags-btn active">All</li>
          <li id="js-label2" class="tags__li tags-btn">iOS</li>
          <li id="js-label3" class="tags__li tags-btn">Python</li>
          <li id="js-label4" class="tags__li tags-btn">Ruby</li>
          <li id="js-label5" class="tags__li tags-btn">Web</li>
          <li id="js-label6" class="tags__li tags-btn">Other</li>
        </ul>

        <div id="tags__bottom">
          <a href="mailto:wing.of.war.1980th@gmail.com" id="icon-email" class="tags-btn fontawesomeregular"></a>
          <a href="/rss.xml" id="icon-feed" class="tags-btn fontawesomeregular"></a>
          <a href="https://github.com/Wing-Of-War" id="icon-github" class="tags-btn fontawesomeregular"></a>

        </div>
      </nav> <!-- end #tags -->

      <div id="posts-list">
        <!-- 搜索框，使用GoogleEngine失败 -->
<!--         <form action="" id="search-form">
          <a href="/index.html" id="mobile-avatar"></a>
          NOTE: input field is disabled by default
          <input id="search-input" type="text" placeholder="Search..." >
        </form>
 -->
        <nav id="pl__container">
        
          <a class="web pl__all" href="/web/2015/04/02/ChromeExtension-Note.html">
            <span class="pl__circle"></span>
            <span class="pl__title">Chrome插件 开发的前端笔记</span>
            <span class="pl__date">Apr 2015</span>
          </a>
        
          <a class="web pl__all" href="/web/2015/03/28/ChromeExtension-TabSpace.html">
            <span class="pl__circle"></span>
            <span class="pl__title">Chrome插件 TabSpace</span>
            <span class="pl__date">Mar 2015</span>
          </a>
        
          <a class="other pl__all" href="/other/2015/03/13/Leave-Or-Stay.html">
            <span class="pl__circle"></span>
            <span class="pl__title">创业公司去留评估指南</span>
            <span class="pl__date">Mar 2015</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2015/03/12/9-Great-Swift-Interview-Questions.html">
            <span class="pl__circle"></span>
            <span class="pl__title">9个伟大的Swift面试题(译)</span>
            <span class="pl__date">Mar 2015</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2015/03/11/as!-Operator.html">
            <span class="pl__circle"></span>
            <span class="pl__title">as!操作符（译）</span>
            <span class="pl__date">Mar 2015</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/12/21/SubClass-Of-NSObject.html">
            <span class="pl__circle"></span>
            <span class="pl__title">创建Objective-C数据模型的心得1</span>
            <span class="pl__date">Dec 2014</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/12/12/iOS-Push-Authoarztion-Rest-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">重置iOS App请求推送授权请求</span>
            <span class="pl__date">Dec 2014</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/12/12/Golden-Path-Cn.html">
            <span class="pl__circle"></span>
            <span class="pl__title">Golden Path</span>
            <span class="pl__date">Dec 2014</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/11/10/Raywenderlich-Objective-C-style-guide-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">raywenderlich.com Objective-C代码规范中文简易注释</span>
            <span class="pl__date">Nov 2014</span>
          </a>
        
          <a class="other pl__all" href="/other/2014/11/03/SwitchInternetSetting-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">如何快速的切换Mac系统的网络配置</span>
            <span class="pl__date">Nov 2014</span>
          </a>
        
          <a class="ruby pl__all" href="/ruby/2014/10/25/Ruby_Study-EN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">Ruby Study Memo</span>
            <span class="pl__date">Oct 2014</span>
          </a>
        
          <a class="python pl__all" href="/python/2014/09/13/ACGArt-EN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">ACGArt DownLoader</span>
            <span class="pl__date">Sep 2014</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/08/10/Cocoapods-Research-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">Cocoapods进阶教程</span>
            <span class="pl__date">Aug 2014</span>
          </a>
        
          <a class="cn pl__all" href="/cn/2014/08/09/FirstPost-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">GitHub 上的第一贴</span>
            <span class="pl__date">Aug 2014</span>
          </a>
        
        </nav>
      </div> <!-- end #posts-list -->
    </aside> <!-- end #sidebar -->

    <div id="post">
      <!-- 加载文章 -->
      <div id="pjax">
        <article id="post__content">
  <h1 id="post__title" data-identifier="20150402">Chrome插件 开发的前端笔记</h1>
  <p>总结一下Chrome Extension开发中学习到的东西</p>

<h2 id="html">HTML</h2>

<p><strong>所有的javascript脚本全部都要写在js文件中</strong></p>

<p>原文引用：
<a href="https://developer.chrome.com/extensions/contentSecurityPolicy">JavaScript and HTML must be in separate files: see our Content Security Policy documentation for details and explanation.</a></p>

<p><strong>特别的：</strong></p>

<pre><code class="language-html">&lt;a href="javascript:" class="load"&gt;load&lt;/a&gt;
</code></pre>

<p>虽然只是空指令，在href中引用javascript:是会触发Chrome 插件的安全协议的，可以换成</p>

<pre><code class="language-html">&lt;a href="#"&gt;&lt;/a&gt;
</code></pre>

<h2 id="css">CSS</h2>

<h3 id="section">禁止选择文本的属性</h3>

<p>引用 : <a href="*http://stackoverflow.com/questions/826782/css-rule-to-disable-text-selection-highlighting?answertab=votes#tab-top*"><em>http://stackoverflow.com/questions/826782/css-rule-to-disable-text-selection-highlighting?answertab=votes#tab-top</em></a></p>

<pre><code class="language-css">.noselect {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
</code></pre>

<h3 id="section-1">变换特效</h3>

<pre><code class="language-css">.todoForm .button:hover{
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f1f3f5), color-stop(100%,#d5d7d9));
}
</code></pre>

<h2 id="javascript">Javascript</h2>

<h3 id="js">JS脚本加载的开始</h3>

<pre><code class="language-js">document.addEventListener('DOMContentLoaded', function() {

});
</code></pre>

<blockquote>
  <p>The DOMContentLoaded event is fired when the document has been completely loaded and parsed, without waiting for stylesheets, images, and subframes to finish loading (the load event can be used to detect a fully-loaded page).<a href="https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded">https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded</a></p>
</blockquote>

<p>相当于页面载入方法，加载完HTML后，会这里开始加载并执行JS脚本</p>

<h3 id="section-2">获取网页元素时，判断元素否存在</h3>

<pre><code class="language-js">    var createButton = document.getElementById("createNew");
    if (createButton) {
        createButton.addEventListener("click", createTabSpace);
    } else {
        console.log('createButton not found');
    };
</code></pre>

<h3 id="jqueryjs">jQuery对象与JS对象是有区别的</h3>

<p>jQ对象可以用<code>$</code>来进行标记
~~~jq
var $input = $(“#todoInput”);
~~~</p>

<p>http://stackoverflow.com/questions/205853/why-would-a-javascript-variable-start-with-a-dollar-sign</p>

<p>http://www.cnblogs.com/zxjyuan/archive/2010/05/07/1729462.html</p>

<p>注意dom对象和jquery对象是有区别的，调用方法时要注意操作的是dom对象还是jquery对象。</p>

<p><strong>javascript对象是DOM？</strong></p>

<h3 id="js-1">JS数组清空</h3>

<p>How to clean a array: http://stackoverflow.com/questions/1232040/empty-an-array-in-javascript
~~~js
tabSpaceItems = []
~~~</p>

<h3 id="chromeextension-storage-">ChromeExtension Storage 存储的小坑</h3>

<p>set的第一个参数为字典，设置的时候创立对象进行键值对赋值，否则会产生<code>键名</code>作为<code>键值</code>的问题。</p>

<pre><code class="language-js">var toDBData = {};
toDBData[TabSpaceDBKey] = tabSpaceItems;
chrome.storage.local.set(toDBData, function() {
// Notify that we saved.
console.log('Settings saved');
});
</code></pre>

</article> <!-- end #post__content -->

<div id="post__share">
  <a id="icon-twitter" class="fontawesomeregular" href="https://twitter.com/intent/tweet?url=http://wing-of-war.github.io//web/2015/04/02/ChromeExtension-Note.html&text=Chrome插件 开发的前端笔记" target="_blank"></a>
  <a id="icon-cc" class="fontawesomeregular" href="http://creativecommons.org/licenses/by-nc-sa/3.0" target="_blank"></a>
  <a id="icon-weibo" class="fontawesomeregular" href="http://v.t.sina.com.cn/share/share.php?url=http://wing-of-war.github.io//web/2015/04/02/ChromeExtension-Note.html&title=Chrome插件 开发的前端笔记" target="_blank"></a>
</div> <!-- end #post__share -->

<div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink" target="_blank">Loading Disqus comments...</a>
</div> <!-- end #disqus_thread -->

<p id="copyright">Powered by <a href="http://jekyllrb.com" target="_blank">Jekyll</a>&nbsp;&nbsp;|&nbsp;&nbsp;Theme <a href="https://github.com/P233/3-Jekyll" target="_blank">3-Jekyll</a></p>
      </div> <!-- end #pjax -->

      <!-- 右侧文章导航栏 -->
      <div id="post__toc-trigger">
        <div id="post__toc">
          <span id="post__toc-title">Table of Contents</span>
          <ul id="post__toc-ul"></ul>
        </div>
      </div>
    </div> <!-- end #post -->

<!-- 右侧导航按钮 -->
    <button id="js-fullscreen"><span id="icon-arrow" class="fontawesomeregular"></span></button>

    <script src="/assets/js/jquery-2.0.3.min.js"></script>
    <script src="/assets/js/jquery.pjax.js"></script>
    <script src="/assets/js/nprogress.js"></script>
    <script src="/assets/js/script.js"></script>
  </body>
</html>