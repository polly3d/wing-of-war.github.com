<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <!--[if lte IE 9]><meta http-equiv="refresh" content="0;url=/ie.html"><![endif]-->

    <title>as!操作符（译）</title>
    <meta name="description" content="">
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
    <link rel="icon" 
      type="image/png" 
      href="/assets/img/myicon.png">

  </head>
  <body>
    <aside id="sidebar">
      <nav id="tags">
        <a href="/index.html" id="avatar"></a>

        <ul id="tags__ul">
          <li id="js-label1" class="tags__li tags-btn active">All</li>
          <li id="js-label2" class="tags__li tags-btn">iOS</li>
          <li id="js-label3" class="tags__li tags-btn">Python</li>
          <li id="js-label4" class="tags__li tags-btn">Ruby</li>
          <li id="js-label5" class="tags__li tags-btn">Other</li>
        </ul>

        <div id="tags__bottom">
          <a href="mailto:wing.of.war.1980th@gmail.com" id="icon-email" class="tags-btn fontawesomeregular"></a>
          <a href="/rss.xml" id="icon-feed" class="tags-btn fontawesomeregular"></a>
          <a href="https://github.com/Wing-Of-War" id="icon-github" class="tags-btn fontawesomeregular"></a>

        </div>
      </nav> <!-- end #tags -->

      <div id="posts-list">
        <!-- 搜索框，使用GoogleEngine失败 -->
<!--         <form action="" id="search-form">
          <a href="/index.html" id="mobile-avatar"></a>
          NOTE: input field is disabled by default
          <input id="search-input" type="text" placeholder="Search..." >
        </form>
 -->
        <nav id="pl__container">
        
          <a class="other pl__all" href="/other/2015/03/13/Leave-Or-Stay.html">
            <span class="pl__circle"></span>
            <span class="pl__title">创业公司去留评测指南</span>
            <span class="pl__date">Mar 2015</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2015/03/12/9-Great%20Swift%20Interview%20Questions.html">
            <span class="pl__circle"></span>
            <span class="pl__title">9个伟大的Swift面试题(译)</span>
            <span class="pl__date">Mar 2015</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2015/03/11/as!-Operator.html">
            <span class="pl__circle"></span>
            <span class="pl__title">as!操作符（译）</span>
            <span class="pl__date">Mar 2015</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/12/21/SubClass-Of-%20NSObject.html">
            <span class="pl__circle"></span>
            <span class="pl__title">创建Objective-C数据模型的心得1</span>
            <span class="pl__date">Dec 2014</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/12/12/iOS%20Push%20Authoarztion%20Rest-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">重置iOS App请求推送授权请求</span>
            <span class="pl__date">Dec 2014</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/12/12/Golden%20Path%20Cn.html">
            <span class="pl__circle"></span>
            <span class="pl__title">Golden Path</span>
            <span class="pl__date">Dec 2014</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/11/10/Raywenderlich-Objective-C-style-guide-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">raywenderlich.com Objective-C代码规范中文简易注释</span>
            <span class="pl__date">Nov 2014</span>
          </a>
        
          <a class="other pl__all" href="/other/2014/11/03/SwitchInternetSetting-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">如何快速的切换Mac系统的网络配置</span>
            <span class="pl__date">Nov 2014</span>
          </a>
        
          <a class="ruby pl__all" href="/ruby/2014/10/25/Ruby_Study-EN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">Ruby Study Memo</span>
            <span class="pl__date">Oct 2014</span>
          </a>
        
          <a class="python pl__all" href="/python/2014/09/13/ACGArt-EN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">ACGArt DownLoader</span>
            <span class="pl__date">Sep 2014</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/08/10/Cocoapods-Research-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">Cocoapods进阶教程</span>
            <span class="pl__date">Aug 2014</span>
          </a>
        
          <a class="cn pl__all" href="/cn/2014/08/09/FirstPost-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">GitHub 上的第一贴</span>
            <span class="pl__date">Aug 2014</span>
          </a>
        
        </nav>
      </div> <!-- end #posts-list -->
    </aside> <!-- end #sidebar -->

    <div id="post">
      <!-- 加载文章 -->
      <div id="pjax">
        <article id="post__content">
  <h1 id="post__title" data-identifier="20150311">as!操作符（译）</h1>
  <h3 id="as">as!操作符</h3>

<p>PS1:试译一些Swift的相关内容</p>

<p>PS2:Swift官网微博原文  <a href="https://developer.apple.com/swift/blog/?id=23">The as! Operator</a></p>

<p>在Swift 1.2版之前，根据表达式的类型和被转换表达式的类型，<code>as</code>操作符可以用于两种不同的转换</p>

<ul>
  <li>
    <p><strong>保守转换</strong>，这种是可以通过Swift的编辑器进行检查校正。举个例子，向上类型转换（将类转换为其父类）或者指定字面量表达式（<code>1 as Float</code>）</p>
  </li>
  <li>
    <p><strong>强制转换</strong>，这种类型转换的安全性不能得到Swift编辑器的保证，可能产生在运行时的陷阱。比如类型的向下转换，将父类转换为子类。</p>
  </li>
</ul>

<p>在Swift 1.2版中，将强制转换和保守转换分成了两种不同的操作符。保守转换继续使用<code>as</code>操作符，但强制转换使用<code>as!</code>操作符。<code>!</code>用于指示转换可能失败。这样一来，你一眼就可以发现它的转换可能会导致程序崩溃。</p>

<p>下面的例子展示了这种变化：</p>

<pre><code class="language-swift">class Animal {}
class Dog: Animal {}

let a: Animal = Dog()
a as Dog		// 将提示错"'Animal is not convertible to 'Dog'; did you mean to use 'as!' to force downcast?"
a as! Dog		// 这种强制向下转换是允许的

let d = Dog()
d as Animal		// 向上转换是允许的
</code></pre>

<p>注意对比<code>!</code>和<code>?</code>这两种不同后缀的表达式和<code>as!</code>与<code>as?</code>这两种转换操作符：</p>

<pre><code class="language-swift">class Animal {}

class Cat: Animal {}

class Dog: Animal {
	var name = "Spot"
}

let dog: Dog? = nil
dog?.name		// 等于nil
dog!.name		// 引发运行时错误

let animal: Animal = Cat()
animal as? Dog	// 等于nil
animal as! Dog	// 引发运行时错误
</code></pre>

<p>最简单记住这些操作符的方法可能是: <code>!</code>意味着这可能是个陷阱， 而<code>?</code> 意味着这可能是空值</p>

</article> <!-- end #post__content -->

<div id="post__share">
  <a id="icon-twitter" class="fontawesomeregular" href="https://twitter.com/intent/tweet?url=http://wing-of-war.github.io//ios/2015/03/11/as!-Operator.html&text=as!操作符（译）" target="_blank"></a>
  <a id="icon-cc" class="fontawesomeregular" href="http://creativecommons.org/licenses/by-nc-sa/3.0" target="_blank"></a>
  <a id="icon-weibo" class="fontawesomeregular" href="http://v.t.sina.com.cn/share/share.php?url=http://wing-of-war.github.io//ios/2015/03/11/as!-Operator.html&title=as!操作符（译）" target="_blank"></a>
</div> <!-- end #post__share -->

<div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink" target="_blank">Loading Disqus comments...</a>
</div> <!-- end #disqus_thread -->

<p id="copyright">Powered by <a href="http://jekyllrb.com" target="_blank">Jekyll</a>&nbsp;&nbsp;|&nbsp;&nbsp;Theme <a href="https://github.com/P233/3-Jekyll" target="_blank">3-Jekyll</a></p>
      </div> <!-- end #pjax -->

      <!-- 右侧文章导航栏 -->
      <div id="post__toc-trigger">
        <div id="post__toc">
          <span id="post__toc-title">Table of Contents</span>
          <ul id="post__toc-ul"></ul>
        </div>
      </div>
    </div> <!-- end #post -->

<!-- 右侧导航按钮 -->
    <button id="js-fullscreen"><span id="icon-arrow" class="fontawesomeregular"></span></button>

    <script src="/assets/js/jquery-2.0.3.min.js"></script>
    <script src="/assets/js/jquery.pjax.js"></script>
    <script src="/assets/js/nprogress.js"></script>
    <script src="/assets/js/script.js"></script>
  </body>
</html>