<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <!--[if lte IE 9]><meta http-equiv="refresh" content="0;url=/ie.html"><![endif]-->

    <title>9个伟大的Swift面试题(译)</title>
    <meta name="description" content="">
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
    <link rel="icon" 
      type="image/png" 
      href="/assets/img/myicon.png">

  </head>
  <body>
    <aside id="sidebar">
      <nav id="tags">
        <a href="/index.html" id="avatar"></a>

        <ul id="tags__ul">
          <li id="js-label1" class="tags__li tags-btn active">All</li>
          <li id="js-label2" class="tags__li tags-btn">iOS</li>
          <li id="js-label3" class="tags__li tags-btn">Python</li>
          <li id="js-label4" class="tags__li tags-btn">Ruby</li>
          <li id="js-label5" class="tags__li tags-btn">Other</li>
        </ul>

        <div id="tags__bottom">
          <a href="mailto:wing.of.war.1980th@gmail.com" id="icon-email" class="tags-btn fontawesomeregular"></a>
          <a href="/rss.xml" id="icon-feed" class="tags-btn fontawesomeregular"></a>
          <a href="https://github.com/Wing-Of-War" id="icon-github" class="tags-btn fontawesomeregular"></a>

        </div>
      </nav> <!-- end #tags -->

      <div id="posts-list">
        <!-- 搜索框，使用GoogleEngine失败 -->
<!--         <form action="" id="search-form">
          <a href="/index.html" id="mobile-avatar"></a>
          NOTE: input field is disabled by default
          <input id="search-input" type="text" placeholder="Search..." >
        </form>
 -->
        <nav id="pl__container">
        
          <a class="other pl__all" href="/other/2015/03/13/Leave-Or-Stay.html">
            <span class="pl__circle"></span>
            <span class="pl__title">创业公司去留评估指南</span>
            <span class="pl__date">Mar 2015</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2015/03/12/9-Great-Swift-Interview-Questions.html">
            <span class="pl__circle"></span>
            <span class="pl__title">9个伟大的Swift面试题(译)</span>
            <span class="pl__date">Mar 2015</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2015/03/11/as!-Operator.html">
            <span class="pl__circle"></span>
            <span class="pl__title">as!操作符（译）</span>
            <span class="pl__date">Mar 2015</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/12/21/SubClass-Of-NSObject.html">
            <span class="pl__circle"></span>
            <span class="pl__title">创建Objective-C数据模型的心得1</span>
            <span class="pl__date">Dec 2014</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/12/12/iOS-Push-Authoarztion-Rest-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">重置iOS App请求推送授权请求</span>
            <span class="pl__date">Dec 2014</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/12/12/Golden-Path-Cn.html">
            <span class="pl__circle"></span>
            <span class="pl__title">Golden Path</span>
            <span class="pl__date">Dec 2014</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/11/10/Raywenderlich-Objective-C-style-guide-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">raywenderlich.com Objective-C代码规范中文简易注释</span>
            <span class="pl__date">Nov 2014</span>
          </a>
        
          <a class="other pl__all" href="/other/2014/11/03/SwitchInternetSetting-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">如何快速的切换Mac系统的网络配置</span>
            <span class="pl__date">Nov 2014</span>
          </a>
        
          <a class="ruby pl__all" href="/ruby/2014/10/25/Ruby_Study-EN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">Ruby Study Memo</span>
            <span class="pl__date">Oct 2014</span>
          </a>
        
          <a class="python pl__all" href="/python/2014/09/13/ACGArt-EN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">ACGArt DownLoader</span>
            <span class="pl__date">Sep 2014</span>
          </a>
        
          <a class="ios pl__all" href="/ios/2014/08/10/Cocoapods-Research-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">Cocoapods进阶教程</span>
            <span class="pl__date">Aug 2014</span>
          </a>
        
          <a class="cn pl__all" href="/cn/2014/08/09/FirstPost-CN.html">
            <span class="pl__circle"></span>
            <span class="pl__title">GitHub 上的第一贴</span>
            <span class="pl__date">Aug 2014</span>
          </a>
        
        </nav>
      </div> <!-- end #posts-list -->
    </aside> <!-- end #sidebar -->

    <div id="post">
      <!-- 加载文章 -->
      <div id="pjax">
        <article id="post__content">
  <h1 id="post__title" data-identifier="20150312">9个伟大的Swift面试题(译)</h1>
  <h1 id="swift">9个伟大的Swift面试题(译)</h1>

<h3 id="great-swift-interview-questionshttpwwwtoptalcomswiftinterview-questions">原文:  <a href="http://www.toptal.com/swift/interview-questions">9 Great Swift Interview Questions</a></h3>

<!--结构体和枚举是值类型 类是引用类型 reference types-->

<h2 id="section">1.</h2>

<p>Swift定义了<code>AnyObject</code>类型用于引用类型实例的别名，而实际上是一个协议。</p>

<p>考虑下面的代码：</p>

<pre><code class="language-swift">var array = [AnyObject]()
struct Test {}
array.append(Test())
</code></pre>
<p>这段代码将会提示编译错误，并提示如下信息：  </p>

<p><code>Type 'Test' does not conform to protocol 'AnyObject'</code></p>

<p>这个错误明显是因为<code>struct结构体</code>是一个值，而不是引用类型，这种类型也不会实现<code>AnyObject</code>的协议。</p>

<p>所以再看看下面的代码：</p>

<pre><code class="language-swift">var array = [AnyObject]()
array.append(1)
array.append(2.0)
array.append("3")
array.append([4, 5, 6])
array.append([7: "7", 8: "8"])

struct Test {}
array.append(Test())
</code></pre>

<p>这个数组中各种值的类型有<code>int</code>、<code>double</code>、<code>string</code>、<code>array</code>和<code>dictionary</code>。所有的类型都是值类型，而不是引用类型，但都并没有报错。为什么？</p>

<h2 id="section-1">2</h2>
<p>考虑下面的代码：</p>

<pre><code class="language-swift">let op1: Int = 1
let op2: UInt = 2
let op3: Double = 3.34
var result = op1 + op2 + op3
</code></pre>

<p>请问哪儿有错？如何更正？</p>

<h2 id="section-2">3</h2>
<p>考虑下面的代码：</p>

<pre><code class="language-swift">var defaults = NSUserDefaults.standardUserDefaults()
var userPref = defaults.stringForKey("userPref")!
printString(userPref)

func printString(string: String) {
    println(string)
}

</code></pre>

<p>请问哪儿有Bug，如何引起的，正确的解决方法是什么？</p>

<h2 id="section-3">4</h2>

<p>下面一小段代码将产生一个编译错误：</p>

<pre><code>struct IntStack {
  var items = [Int]()
  func add(x: Int) {
    items.append(x) // Compile time error here.
  }
}
</code></pre>

<p>解释一下出错的原因，并修改。</p>

<h2 id="section-4">5</h2>

<p>在Swift中的枚举，原始值和关联值有什么区别？</p>

<h2 id="section-5">6</h2>

<p>Swift中<code>字符串 String</code>是一种结构体类型，但它并没有提供数量或者长度来计算字符串中字符的个数。但是提供了一个通用的<code>countElements&lt;T&gt;()</code>方法来计算长度。当查询的<code>字符串String</code>时，请问<code>countElements</code>方法的时间复杂度是多少？</p>

<p>O(1)
O(n)</p>

<p>为什么？</p>

<p>译者提示：不同的 Unicode 字符以及相同 Unicode 字符的不同表示方式可能需要不同数量的内存空间来存储。所以 Swift 中的字符在一个字符串中并不一定占用相同的内存空间。因此字符串的长度不得不通过迭代字符串中每一个字符的长度来进行计算。</p>

<h2 id="section-6">7</h2>

<p>阅读下面的代码:</p>

<pre><code class="language-swift">struct Planet {
    var name: String
    var distanceFromSun: Double
}

let planets = [
    Planet(name: "Mercury", distanceFromSun: 0.387),
    Planet(name: "Venus", distanceFromSun: 0.722),
    Planet(name: "Earth", distanceFromSun: 1.0),
    Planet(name: "Mars", distanceFromSun: 1.52),
    Planet(name: "Jupiter", distanceFromSun: 5.20),
    Planet(name: "Saturn", distanceFromSun: 9.58),
    Planet(name: "Uranus", distanceFromSun: 19.2),
    Planet(name: "Neptune", distanceFromSun: 30.1)
]

let result1 = planets.map { $0.name }
let result2 = planets.reduce(0) { $0 + $1.distanceFromSun }
</code></pre>

<p><code>result1</code>和<code>result2</code>常量的类型、结果分别是什么，解释一下</p>

<h2 id="section-7">8</h2>

<p>阅读下面的代码:</p>

<pre><code class="language-swift">var array1 = [1, 2, 3, 4, 5]
var array2 = array1
array2.append(6)
var len = array1.count
</code></pre>

<p><code>len</code>的值是多少，为什么?</p>

<h2 id="section-8">9</h2>

<p>阅读下面的代码:</p>

<pre><code class="language-swift">class Master {
    lazy var detail: Detail = Detail(master: self)
    
    init() {
        println("Master init")
    }
    
    deinit {
        println("Master deinit")
    }
}

class Detail {
    var master: Master
    
    init(master: Master) {
        println("Detail init")
        self.master = master
    }
    
    deinit {
        println("Detail deinit")
    }
}

func createMaster() {
    var master: Master = Master()
    var detail = master.detail
}
    
createMaster()
</code></pre>

<p>请指出代码中的错误，并更正。</p>

</article> <!-- end #post__content -->

<div id="post__share">
  <a id="icon-twitter" class="fontawesomeregular" href="https://twitter.com/intent/tweet?url=http://wing-of-war.github.io//ios/2015/03/12/9-Great-Swift-Interview-Questions.html&text=9个伟大的Swift面试题(译)" target="_blank"></a>
  <a id="icon-cc" class="fontawesomeregular" href="http://creativecommons.org/licenses/by-nc-sa/3.0" target="_blank"></a>
  <a id="icon-weibo" class="fontawesomeregular" href="http://v.t.sina.com.cn/share/share.php?url=http://wing-of-war.github.io//ios/2015/03/12/9-Great-Swift-Interview-Questions.html&title=9个伟大的Swift面试题(译)" target="_blank"></a>
</div> <!-- end #post__share -->

<div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink" target="_blank">Loading Disqus comments...</a>
</div> <!-- end #disqus_thread -->

<p id="copyright">Powered by <a href="http://jekyllrb.com" target="_blank">Jekyll</a>&nbsp;&nbsp;|&nbsp;&nbsp;Theme <a href="https://github.com/P233/3-Jekyll" target="_blank">3-Jekyll</a></p>
      </div> <!-- end #pjax -->

      <!-- 右侧文章导航栏 -->
      <div id="post__toc-trigger">
        <div id="post__toc">
          <span id="post__toc-title">Table of Contents</span>
          <ul id="post__toc-ul"></ul>
        </div>
      </div>
    </div> <!-- end #post -->

<!-- 右侧导航按钮 -->
    <button id="js-fullscreen"><span id="icon-arrow" class="fontawesomeregular"></span></button>

    <script src="/assets/js/jquery-2.0.3.min.js"></script>
    <script src="/assets/js/jquery.pjax.js"></script>
    <script src="/assets/js/nprogress.js"></script>
    <script src="/assets/js/script.js"></script>
  </body>
</html>